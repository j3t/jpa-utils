language: java

os: linux
jdk: oraclejdk8
install: true

sudo: required

before_install:
  - docker pull postgres:9.6
  - docker pull mysql:5.7
  - docker pull wnameless/oracle-xe-11g:16.04

services:
  - docker

before_script:
  - mvn install -DskipTests

script:
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=h2 -pl :jpa-utils-hibernate
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=h2 -pl :jpa-utils-eclipselink
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=h2 -pl :jpa-utils-openjpa
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=hsql -pl :jpa-utils-hibernate
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=hsql -pl :jpa-utils-eclipselink
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=hsql -pl :jpa-utils-openjpa
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=derby -pl :jpa-utils-hibernate
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=derby -pl :jpa-utils-eclipselink
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=derby -pl :jpa-utils-openjpa
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=postgresql -pl :jpa-utils-hibernate
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=postgresql -pl :jpa-utils-eclipselink
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=postgresql -pl :jpa-utils-openjpa
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=mysql -pl :jpa-utils-hibernate
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=mysql -pl :jpa-utils-eclipselink
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=mysql -pl :jpa-utils-openjpa
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=oracle -pl :jpa-utils-hibernate
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=oracle -pl :jpa-utils-eclipselink
  - mvn verify coveralls:report -DrepoToken=$repo_token -Dtest=com.github.j3t.jpa.utils.test.EntityManagerHelperImplTest -Dspring.profiles.active=oracle -pl :jpa-utils-openjpa
